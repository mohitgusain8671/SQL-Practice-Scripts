# SQL Advanced Techniques Comparison

This document provides a comprehensive comparison of different SQL advanced techniques including Subqueries, Common Table Expressions (CTEs), Temporary Tables, Create Table As Select (CTAS), and Views.

## Comparison Table

| Feature | Subquery | CTE | Temporary Table | CTAS | Views |
|---------|----------|-----|-----------------|------|-------|
| **Storage** | Memory cache | Memory cache | Disk storage | Disk storage | No storage |
| **Lifetime** | Temporary | Temporary | Temporary | Permanent | Permanent |
| **When Deleted** | End of Query | End of Query | End of Session | Manually using DROP | Manually using DROP |
| **Scope** | Single Query | Single Query | Multiple Queries | Multiple Queries | Multiple Queries |
| **Reusability** | Limited (1-place, 1 query) | Limited (Multiple places in 1 query) | Medium (Multi queries during session) | Highest (Multiple queries) | Highest (Multiple queries) |
| **Up-to-Date** | YES | YES | NO | NO | YES |

## Key Insights

### Storage and Performance
- **Memory-based**: Subqueries and CTEs use memory cache for faster access
- **Disk-based**: Temporary tables and CTAS store data on disk, suitable for larger datasets
- **Virtual**: Views don't store data, they're virtual tables

### Lifetime and Persistence
- **Query-level**: Subqueries and CTEs exist only during query execution
- **Session-level**: Temporary tables persist throughout the database session
- **Permanent**: CTAS and Views remain until explicitly dropped

### Reusability Spectrum
1. **Subqueries**: Most limited - single use within one query
2. **CTEs**: Can be referenced multiple times within the same query
3. **Temporary Tables**: Moderate - reusable across multiple queries in same session
4. **CTAS & Views**: Highest - can be used across multiple queries and sessions

### Data Freshness
- **Always Current**: Subqueries, CTEs, and Views reflect real-time data
- **Point-in-Time**: Temporary tables and CTAS contain data from creation time

## When to Use Each Technique

### Use Subqueries When:
- Simple, one-time calculations within a query
- Filtering based on aggregate conditions
- Quick lookups that don't need reuse

### Use CTEs When:
- Complex queries need better readability
- Recursive operations are required
- Multiple references to the same derived data within one query

### Use Temporary Tables When:
- Working with large intermediate result sets
- Need to perform multiple operations on the same dataset
- Session-specific data processing

### Use CTAS When:
- Creating permanent backup or archive tables
- Data transformation for reporting
- Creating materialized snapshots of data

### Use Views When:
- Simplifying complex queries for end users
- Implementing security by restricting data access
- Creating reusable query logic across applications
- Need always up-to-date data without storage overhead